<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proton Media Loader</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --purple-900: #1a0033;
        --purple-800: #2d0052;
        --purple-700: #4a0080;
        --purple-600: #6b21a8;
        --purple-500: #8b5cf6;
        --purple-400: #a78bfa;
        --purple-300: #c4b5fd;
        --purple-200: #e9d5ff;
        --purple-100: #f3e8ff;
        --black: #000000;
        --white: #ffffff;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: var(--black);
        color: var(--white);
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
    }

    /* Animated background */
    .background-gradient {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #000000 0%, #0a0015 50%, #000000 100%);
        z-index: 0;
    }

    .stars {
        position: fixed;
        width: 100%;
        height: 100%;
        background-image: 
            radial-gradient(2px 2px at 20px 30px, white, transparent),
            radial-gradient(2px 2px at 60px 70px, white, transparent),
            radial-gradient(1px 1px at 50px 50px, white, transparent),
            radial-gradient(1px 1px at 130px 80px, white, transparent),
            radial-gradient(2px 2px at 90px 150px, white, transparent);
        background-repeat: repeat;
        background-size: 200px 200px;
        opacity: 0.4;
        animation: starsMove 100s linear infinite;
        z-index: 1;
    }

    @keyframes starsMove {
        from { transform: translateY(0); }
        to { transform: translateY(-200px); }
    }

    /* Purple glow orbs */
    .orb {
        position: fixed;
        border-radius: 50%;
        filter: blur(60px);
        opacity: 0.1;
        z-index: 2;
        animation: float 20s ease-in-out infinite;
    }

    .orb-1 {
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, var(--purple-600), transparent);
        top: -100px;
        left: -100px;
        animation-duration: 25s;
    }

    .orb-2 {
        width: 350px;
        height: 350px;
        background: radial-gradient(circle, var(--purple-700), transparent);
        bottom: -100px;
        right: -100px;
        animation-duration: 30s;
        animation-delay: -10s;
    }

    .orb-3 {
        width: 300px;
        height: 300px;
        background: radial-gradient(circle, var(--purple-500), transparent);
        top: 50%;
        left: 50%;
        animation-duration: 35s;
        animation-delay: -5s;
    }

    @keyframes float {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(50px, -50px) scale(1.1); }
        66% { transform: translate(-50px, 50px) scale(0.9); }
    }

    /* Main container */
    .container {
        position: relative;
        z-index: 10;
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
        min-height: 100vh;
        animation: fadeIn 1s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Header */
    .header {
        text-align: center;
        padding: 2rem 0;
    }

    /* Page title */
    .page-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        letter-spacing: -0.02em;
        text-align: center;
    }

    .page-title .title-text {
        background: linear-gradient(135deg, var(--white) 0%, var(--purple-300) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .page-subtitle {
        font-size: 1.25rem;
        color: var(--purple-200);
        margin-bottom: 2rem;
        font-weight: 400;
        text-align: center;
        line-height: 1.7;
    }

    /* Divider */
    .divider {
        height: 1px;
        background: linear-gradient(90deg, transparent, var(--purple-500), transparent);
        margin: 2rem 0;
        opacity: 0.3;
    }

    /* Content card */
    .content-card {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 1.5rem;
        padding: 2.5rem;
        box-shadow: 
            0 20px 50px rgba(0, 0, 0, 0.5),
            0 0 100px rgba(139, 92, 246, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
        margin-bottom: 2rem;
    }

    /* Feature badges */
    .features {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        margin-bottom: 2rem;
        justify-content: center;
        align-items: center;
    }

    .feature-badge {
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.2);
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        color: var(--purple-200);
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .feature-icon {
        color: var(--purple-400);
    }

    /* Upload area */
    .upload-container {
        background: transparent;
        border-radius: 1rem;
        padding: 2rem;
    }

    /* Tab navigation */
    .tab-nav {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
        background: rgba(0, 0, 0, 0.3);
        padding: 0.5rem;
        border-radius: 0.75rem;
        border: 1px solid rgba(139, 92, 246, 0.2);
    }

    .tab-btn {
        flex: 1;
        padding: 0.75rem 1rem;
        background: transparent;
        border: none;
        border-radius: 0.5rem;
        color: var(--purple-300);
        font-family: 'Inter', sans-serif;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    .tab-btn:hover {
        background: rgba(139, 92, 246, 0.1);
        color: var(--purple-200);
    }

    .tab-btn.active {
        background: rgba(139, 92, 246, 0.2);
        color: var(--white);
        border: 1px solid rgba(139, 92, 246, 0.4);
    }

    .tab-content {
        display: none;
    }

    .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-out;
    }

    .upload-area {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        border: 2px dashed rgba(139, 92, 246, 0.4);
        border-radius: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        background: rgba(0, 0, 0, 0.3);
    }

    .upload-area:hover {
        border-color: var(--purple-400);
        background: rgba(139, 92, 246, 0.1);
        transform: translateY(-2px);
    }

    .upload-area.dragover {
        border-color: var(--purple-400);
        background: rgba(139, 92, 246, 0.15);
        box-shadow: 0 0 30px rgba(139, 92, 246, 0.3);
    }

    .upload-icon {
        width: 64px;
        height: 64px;
        margin-bottom: 1rem;
        color: var(--purple-400);
        transition: all 0.3s ease;
    }

    .upload-area:hover .upload-icon {
        transform: scale(1.1) translateY(-5px);
        color: var(--purple-300);
    }

    .upload-text {
        font-size: 1.125rem;
        color: var(--purple-200);
        margin-bottom: 0.5rem;
        font-weight: 500;
    }

    .upload-hint {
        font-size: 0.875rem;
        color: var(--purple-300);
        opacity: 0.7;
    }

    #fileInput {
        display: none;
    }

    /* Google Drive input section */
    .gdrive-section {
        padding: 1.5rem;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(139, 92, 246, 0.2);
        border-radius: 1rem;
    }

    .gdrive-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .gdrive-icon {
        width: 32px;
        height: 32px;
    }

    .gdrive-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--white);
    }

    .gdrive-input-wrapper {
        display: flex;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .gdrive-input {
        flex: 1;
        padding: 0.875rem 1rem;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(139, 92, 246, 0.3);
        border-radius: 0.75rem;
        color: var(--white);
        font-family: 'Inter', sans-serif;
        font-size: 0.9rem;
        transition: all 0.3s ease;
    }

    .gdrive-input:focus {
        outline: none;
        border-color: var(--purple-400);
        box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
    }

    .gdrive-input::placeholder {
        color: var(--purple-300);
        opacity: 0.6;
    }

    .gdrive-btn {
        padding: 0.875rem 1.5rem;
        background: linear-gradient(135deg, var(--purple-600), var(--purple-700));
        border: 1px solid rgba(139, 92, 246, 0.4);
        border-radius: 0.75rem;
        color: var(--white);
        font-family: 'Inter', sans-serif;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .gdrive-btn:hover {
        background: linear-gradient(135deg, var(--purple-500), var(--purple-600));
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
    }

    .gdrive-hint {
        font-size: 0.8rem;
        color: var(--purple-300);
        opacity: 0.7;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .gdrive-hint svg {
        width: 14px;
        height: 14px;
        flex-shrink: 0;
    }

    /* Media viewer */
    .media-viewer {
        margin-top: 1.5rem;
        min-height: 400px;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(139, 92, 246, 0.2);
        border-radius: 1rem;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
    }

    .media-viewer img,
    .media-viewer video,
    .media-viewer audio {
        max-width: 100%;
        max-height: 500px;
        border-radius: 0.75rem;
    }

    .media-viewer video {
        background: #000;
    }

    .media-viewer audio {
        width: 100%;
        max-width: 500px;
    }

    .media-viewer iframe {
        width: 100%;
        height: 100%;
        min-height: 450px;
        border: none;
        border-radius: 0.75rem;
    }

    .media-placeholder {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        color: var(--purple-300);
        opacity: 0.6;
    }

    .media-placeholder svg {
        width: 48px;
        height: 48px;
    }

    /* Fullscreen button */
    .fullscreen-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        padding: 0.6rem 1rem;
        background: rgba(0, 0, 0, 0.7);
        border: 1px solid rgba(139, 92, 246, 0.4);
        border-radius: 0.5rem;
        color: var(--purple-200);
        font-size: 0.875rem;
        font-family: 'Inter', sans-serif;
        cursor: pointer;
        transition: all 0.3s ease;
        display: none;
        z-index: 10;
        backdrop-filter: blur(10px);
    }

    .fullscreen-btn:hover {
        background: rgba(139, 92, 246, 0.3);
        border-color: var(--purple-400);
        color: var(--white);
    }

    .fullscreen-btn.show {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    /* Fullscreen styles */
    .media-viewer:fullscreen,
    .media-viewer:-webkit-full-screen,
    .media-viewer:-moz-full-screen,
    .media-viewer:-ms-fullscreen {
        background: #000;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .media-viewer:fullscreen iframe,
    .media-viewer:-webkit-full-screen iframe,
    .media-viewer:-moz-full-screen iframe,
    .media-viewer:-ms-fullscreen iframe {
        width: 100%;
        height: 100%;
        min-height: 100vh;
        border-radius: 0;
    }

    .media-viewer:fullscreen img,
    .media-viewer:fullscreen video,
    .media-viewer:-webkit-full-screen img,
    .media-viewer:-webkit-full-screen video {
        max-width: 100%;
        max-height: 100vh;
        border-radius: 0;
    }

    .media-viewer:fullscreen .fullscreen-btn,
    .media-viewer:-webkit-full-screen .fullscreen-btn {
        position: fixed;
        top: 1rem;
        right: 1rem;
    }

    /* Error message */
    .error-message {
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.3);
        border-radius: 0.75rem;
        padding: 1rem;
        margin-top: 1rem;
        color: #fca5a5;
        font-size: 0.9rem;
        display: none;
        align-items: center;
        gap: 0.5rem;
    }

    .error-message.show {
        display: flex;
    }

    /* File types section */
    .file-types-section {
        margin-top: 1.5rem;
    }

    .file-types-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        color: var(--purple-200);
        margin-bottom: 1rem;
        text-align: center;
    }

    .file-types {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.75rem;
    }

    .file-tag {
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.25);
        border-radius: 0.5rem;
        padding: 0.5rem 1rem;
        color: var(--purple-200);
        font-size: 0.875rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
    }

    .file-tag:hover {
        background: rgba(139, 92, 246, 0.2);
        border-color: var(--purple-400);
        transform: translateY(-2px);
    }

    /* Info box */
    .info-box {
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.3);
        border-left: 4px solid var(--purple-500);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-top: 1.5rem;
    }

    .info-box-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--white);
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .info-text {
        font-size: 1rem;
        line-height: 1.7;
        color: var(--purple-200);
    }

    /* Footer */
    .footer {
        text-align: center;
        padding: 2rem 0;
        font-size: 0.9rem;
        color: var(--purple-300);
    }

    /* Responsive design */
    @media (max-width: 768px) {
        .container {
            padding: 1rem;
        }

        .content-card {
            padding: 1.5rem;
        }

        .page-title {
            font-size: 2rem;
        }

        .page-subtitle {
            font-size: 1rem;
        }

        .upload-container {
            padding: 1.5rem;
        }

        .upload-area {
            padding: 1.5rem;
        }

        .features {
            justify-content: center;
        }

        .media-viewer {
            min-height: 300px;
        }

        .gdrive-input-wrapper {
            flex-direction: column;
        }

        .tab-btn {
            font-size: 0.8rem;
            padding: 0.6rem 0.75rem;
        }
    }

    @media (max-width: 480px) {
        .page-title {
            font-size: 1.75rem;
        }

        .content-card {
            padding: 1.25rem;
        }

        .upload-container {
            padding: 1rem;
        }

        .upload-icon {
            width: 48px;
            height: 48px;
        }
    }
</style>
</head>
<body>

<!-- Background elements -->
<div class="background-gradient"></div>
<div class="stars"></div>
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<!-- Main content -->
<div class="container">
    <header class="header">
        <h1 class="page-title"><span class="title-text">Proton Media Loader</span> üé¨</h1>
        <p class="page-subtitle">
            View, listen, and watch media files directly in your browser
        </p>
    </header>

    <div class="divider"></div>

    <div class="content-card">
        <div class="features">
            <div class="feature-badge">
                <span class="feature-icon">‚úì</span>
                Photos
            </div>
            <div class="feature-badge">
                <span class="feature-icon">‚úì</span>
                Videos
            </div>
            <div class="feature-badge">
                <span class="feature-icon">‚úì</span>
                Audios
            </div>
            <div class="feature-badge">
                <span class="feature-icon">‚úì</span>
                Google Drive
            </div>
            <div class="feature-badge">
                <span class="feature-icon">‚úì</span>
                Fullscreen Mode
            </div>
        </div>

        <div class="upload-container">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="local">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"/>
                    </svg>
                    Local File
                </button>
                <button class="tab-btn" data-tab="gdrive">
                    <svg width="18" height="16" viewBox="0 0 1443.061 1249.993">
                        <path fill="#3777e3" d="M240.525 1249.993l240.492-416.664h962.044l-240.514 416.664z"/>
                        <path fill="#ffcf63" d="M962.055 833.329h481.006L962.055 0H481.017z"/>
                        <path fill="#11a861" d="M0 833.329l240.525 416.664 481.006-833.328L481.017 0z"/>
                    </svg>
                    Google Drive
                </button>
            </div>

            <!-- Local File Tab -->
            <div class="tab-content active" id="localTab">
                <div class="upload-area" id="uploadArea">
                    <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"/>
                    </svg>
                    <span class="upload-text" id="fileName">Click or drag to upload media</span>
                    <span class="upload-hint">Supports images, videos, and audio files</span>
                </div>
                <input type="file" id="fileInput" accept="image/*,video/*,audio/*">
            </div>

            <!-- Google Drive Tab -->
            <div class="tab-content" id="gdriveTab">
                <div class="gdrive-section">
                    <div class="gdrive-header">
                        <svg class="gdrive-icon" viewBox="0 0 1443.061 1249.993">
                            <path fill="#3777e3" d="M240.525 1249.993l240.492-416.664h962.044l-240.514 416.664z"/>
                            <path fill="#ffcf63" d="M962.055 833.329h481.006L962.055 0H481.017z"/>
                            <path fill="#11a861" d="M0 833.329l240.525 416.664 481.006-833.328L481.017 0z"/>
                        </svg>
                        <span class="gdrive-title">Stream from Google Drive</span>
                    </div>
                    <div class="gdrive-input-wrapper">
                        <input 
                            type="text" 
                            class="gdrive-input" 
                            id="gdriveInput" 
                            placeholder="Paste Google Drive video link here..."
                        >
                        <button class="gdrive-btn" id="gdriveLoadBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"/>
                            </svg>
                            Load Video
                        </button>
                    </div>
                    <div class="gdrive-hint">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <span>Example: https://drive.google.com/file/d/FILE_ID/view ‚Äî Make sure the video is shared publicly or with anyone with the link</span>
                    </div>
                    <div class="error-message" id="gdriveError">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                        <span id="gdriveErrorText">Invalid Google Drive link</span>
                    </div>
                </div>
            </div>

            <div class="media-viewer" id="mediaViewer">
                <div class="media-placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"/>
                    </svg>
                    <span>No media loaded yet</span>
                </div>
                <button class="fullscreen-btn" id="fullscreenBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="fullscreenIcon">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"/>
                    </svg>
                    <span id="fullscreenText">Fullscreen</span>
                </button>
            </div>

            <div class="file-types-section">
                <div class="file-types-title">Supported Formats</div>
                <div class="file-types">
                    <div class="file-tag">üñºÔ∏è Images</div>
                    <div class="file-tag">üñºÔ∏è GIF</div>
                    <div class="file-tag">üñºÔ∏è WebM</div>
                    <div class="file-tag">üé¨ MP4</div>
                    <div class="file-tag">üéß Audio</div>
                    <div class="file-tag">‚òÅÔ∏è Google Drive</div>
                </div>
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Privacy First</span>
                </div>
                <p class="info-text">
                    Local files are processed in your browser and never uploaded to any server. Google Drive videos are streamed directly from Google's servers using their embed player.
                </p>
            </div>
        </div>
    </div>
</div>

<script>
const fileInput = document.getElementById('fileInput');
const uploadArea = document.getElementById('uploadArea');
const fileName = document.getElementById('fileName');
const mediaViewer = document.getElementById('mediaViewer');
const fullscreenBtn = document.getElementById('fullscreenBtn');
const fullscreenText = document.getElementById('fullscreenText');
const fullscreenIcon = document.getElementById('fullscreenIcon');
const gdriveInput = document.getElementById('gdriveInput');
const gdriveLoadBtn = document.getElementById('gdriveLoadBtn');
const gdriveError = document.getElementById('gdriveError');
const gdriveErrorText = document.getElementById('gdriveErrorText');
const tabBtns = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content');

let currentMedia = null;
let placeholderHTML = mediaViewer.innerHTML;

// Tab switching
tabBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const tabId = btn.dataset.tab;
        
        tabBtns.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        btn.classList.add('active');
        document.getElementById(tabId + 'Tab').classList.add('active');
    });
});

// Click to upload
uploadArea.addEventListener('click', () => fileInput.click());

// Drag and drop
uploadArea.addEventListener('dragover', (e) => {
    e.preventDefault();
    uploadArea.classList.add('dragover');
});

uploadArea.addEventListener('dragleave', () => {
    uploadArea.classList.remove('dragover');
});

uploadArea.addEventListener('drop', (e) => {
    e.preventDefault();
    uploadArea.classList.remove('dragover');
    
    if (e.dataTransfer.files.length > 0) {
        fileInput.files = e.dataTransfer.files;
        handleFileSelect();
    }
});

// File input change
fileInput.addEventListener('change', handleFileSelect);

function handleFileSelect() {
    if (fileInput.files.length === 0) return;

    const file = fileInput.files[0];
    fileName.textContent = file.name;

    const url = URL.createObjectURL(file);
    const type = file.type;

    // Clear viewer and prepare for new media
    mediaViewer.innerHTML = '';
    fullscreenBtn.classList.add('show');

    if (type.startsWith('image/')) {
        currentMedia = document.createElement('img');
        currentMedia.src = url;
        currentMedia.alt = file.name;
    }
    else if (type.startsWith('video/')) {
        currentMedia = document.createElement('video');
        currentMedia.src = url;
        currentMedia.controls = true;
        currentMedia.preload = 'metadata';
    }
    else if (type.startsWith('audio/')) {
        currentMedia = document.createElement('audio');
        currentMedia.src = url;
        currentMedia.controls = true;
        currentMedia.preload = 'metadata';
    }
    else {
        mediaViewer.innerHTML = '<div class="media-placeholder"><span style="color:#f87171;">Unsupported file type</span></div>';
        fullscreenBtn.classList.remove('show');
        return;
    }

    // Add animation
    currentMedia.style.animation = 'fadeIn 0.5s ease-out';
    
    mediaViewer.appendChild(currentMedia);
    mediaViewer.appendChild(fullscreenBtn);
}

// Google Drive link handler
function extractGoogleDriveId(url) {
    // Match various Google Drive URL formats
    const patterns = [
        /\/file\/d\/([a-zA-Z0-9_-]+)/,           // /file/d/FILE_ID/
        /id=([a-zA-Z0-9_-]+)/,                    // ?id=FILE_ID
        /\/d\/([a-zA-Z0-9_-]+)/,                  // /d/FILE_ID
        /^([a-zA-Z0-9_-]{25,})$/                  // Just the ID itself
    ];
    
    for (const pattern of patterns) {
        const match = url.match(pattern);
        if (match) {
            return match[1];
        }
    }
    return null;
}

function loadGoogleDriveVideo(url) {
    gdriveError.classList.remove('show');
    
    const fileId = extractGoogleDriveId(url.trim());
    
    if (!fileId) {
        gdriveErrorText.textContent = 'Invalid Google Drive link. Please check the URL format.';
        gdriveError.classList.add('show');
        return;
    }
    
    // Clear viewer and create iframe
    mediaViewer.innerHTML = '';
    fullscreenBtn.classList.add('show');
    
    const iframe = document.createElement('iframe');
    iframe.src = `https://drive.google.com/file/d/${fileId}/preview`;
    iframe.allow = 'autoplay; encrypted-media; fullscreen';
    iframe.setAttribute('allowfullscreen', '');
    iframe.setAttribute('webkitallowfullscreen', '');
    iframe.setAttribute('mozallowfullscreen', '');
    iframe.style.animation = 'fadeIn 0.5s ease-out';
    
    currentMedia = iframe;
    mediaViewer.appendChild(iframe);
    mediaViewer.appendChild(fullscreenBtn);
}

gdriveLoadBtn.addEventListener('click', () => {
    const url = gdriveInput.value;
    if (url) {
        loadGoogleDriveVideo(url);
    }
});

gdriveInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        const url = gdriveInput.value;
        if (url) {
            loadGoogleDriveVideo(url);
        }
    }
});

// Fullscreen API toggle
function toggleFullscreen() {
    if (!currentMedia) return;

    if (!document.fullscreenElement && 
        !document.webkitFullscreenElement && 
        !document.mozFullScreenElement && 
        !document.msFullscreenElement) {
        // Enter fullscreen
        if (mediaViewer.requestFullscreen) {
            mediaViewer.requestFullscreen();
        } else if (mediaViewer.webkitRequestFullscreen) {
            mediaViewer.webkitRequestFullscreen();
        } else if (mediaViewer.mozRequestFullScreen) {
            mediaViewer.mozRequestFullScreen();
        } else if (mediaViewer.msRequestFullscreen) {
            mediaViewer.msRequestFullscreen();
        }
    } else {
        // Exit fullscreen
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
        } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
    }
}

// Update button text on fullscreen change
function updateFullscreenButton() {
    const isFullscreen = document.fullscreenElement || 
                         document.webkitFullscreenElement || 
                         document.mozFullScreenElement || 
                         document.msFullscreenElement;
    
    if (isFullscreen) {
        fullscreenText.textContent = 'Exit Fullscreen';
        fullscreenIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"/>';
    } else {
        fullscreenText.textContent = 'Fullscreen';
        fullscreenIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"/>';
    }
}

// Listen for fullscreen changes
document.addEventListener('fullscreenchange', updateFullscreenButton);
document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
document.addEventListener('mozfullscreenchange', updateFullscreenButton);
document.addEventListener('MSFullscreenChange', updateFullscreenButton);

fullscreenBtn.addEventListener('click', toggleFullscreen);
</script>
</body>
</html>